<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Наши Услуги</title>
    <style>.custom-services-wrapper /* Общие стили */
*, .custom-services-wrapper *::before, .custom-services-wrapper *::after{box-sizing: border-box;}
:root{--primary-color: #007bff; /* Основной синий */
    --secondary-color: #6c757d; /* Серый */
    --accent-color: #28a745; /* Зеленый */
    --background-light: #FFFFFF; /* Белый фон */
    --background-card: #FFFFFF; /* Белый фон карточек */
    --text-dark: #212529; /* Темный текст */
    --text-muted: #6C757D; /* Приглушенный текст */
    --shadow-light: rgba(0, 0, 0, 0.06);
    --shadow-medium: rgba(0, 0, 0, 0.12);
    --shadow-strong: rgba(0, 0, 0, 0.2);
    --border-color: #E8E8E8;
    --liquid-gradient: linear-gradient(135deg, #007bff 0%, #6DD5ED 25%, #007bff 50%, #6DD5ED 75%, #007bff 100%); /* Градиент для жидкого эффекта */}.custom-services-wrapper body{font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
    line-height: 1.6;
    margin: 0;
    padding: 0;
    background-color: var(--background-light); /* Белый фон */
    color: var(--text-dark);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    
    display: flex;
    flex-direction: column;
    position: relative;}.custom-services-wrapper /* Убираем фоновый паттерн для белого фона */
body::before{content: none;}.custom-services-wrapper .container{max-width: 1200px;
    margin: 0 auto;
    padding: 40px 20px;}.custom-services-wrapper .section-title{text-align: center;
    font-size: 2.8em;
    font-weight: 700;
    margin-top: 30px;
  margin-bottom: 30px;
    color: var(--text-dark); /* Темный заголовок */
    position: relative;
    padding-bottom: 15px;}.custom-services-wrapper .section-title::after{content: '';
    position: absolute;
    left: 50%;
    bottom: 0;
    transform: translateX(-50%);
    width: 100px;
    height: 5px;
    background-color: var(--primary-color); /* Синяя полоса */
    border-radius: 3px;}.custom-services-wrapper /* Стили для секции услуг */
.services{padding-top: 0px; /* Сохраняем 0px, так как подъем будет через margin-top */
    padding-bottom: 40px; /* Уменьшаем нижний отступ */
    background: transparent;
    margin-top: -40px; /* Поднимаем всю секцию на 40px вверх */}.custom-services-wrapper .services-grid{display: flex; /* Меняем на flex для карусели */
    gap: 20px; /* Отступ между карточками */
    transition: transform 0.5s ease-in-out; /* Анимация прокрутки */
    padding-bottom: 20px; /* Добавим отступ снизу */}.custom-services-wrapper .service-card{background: var(--background-card); /* Белый фон карточек */
    border-radius: 12px;
    box-shadow: 0 8px 20px var(--shadow-light); /* Мягкая тень */
    padding: 30px 30px 20px 30px;
    text-align: center;
    transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    border: 2px solid var(--border-color); /* Более выраженная граница */
    z-index: 1;
    flex: 0 0 calc(33.333% - 13.333px); /* 3 карточки в ряду с учетом gap */
    max-width: calc(33.333% - 13.333px);}.custom-services-wrapper /* Изюминка: Органический, .custom-services-wrapper текучий градиент внутри карточки */
.service-card::before{content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--liquid-gradient);
    background-size: 200% 200%; /* Большой размер для анимации потока */
    transform: scale(0); /* Скрываем по умолчанию */
    opacity: 0;
    border-radius: 12px;
    transition: transform 0.6s ease-out, opacity 0.6s ease-out;
    animation: liquid-flow 8s linear infinite; /* Анимация потока */
    z-index: -1; /* Под контентом карточки */}@keyframes liquid-flow{0%{background-position: 0% 0%;}100%{background-position: 100% 100%;}}.custom-services-wrapper .service-card:hover{box-shadow: 0 15px 30px var(--shadow-medium);}.custom-services-wrapper .service-card:hover::before{transform: scale(1); /* Показываем и масштабируем */
    opacity: 1;}.custom-services-wrapper .service-icon{width: 100px;
    height: 100px;
    background: var(--primary-color); /* Однотонный синий круг */
    border-radius: 50%; /* Идеальный круг */
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 20px auto 25px auto; /* Иконка сидит на верхней границе */
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    position: relative;
    z-index: 2;
    font-size: 50px; /* Размер эмодзи */
    line-height: 1; /* Для точного выравнивания */
    border: 4px solid var(--background-light); /* Белая обводка */}.custom-services-wrapper .service-card:hover .service-icon{transform: scale(1.08); /* Сохраняем увеличение иконки */
    box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3);}.custom-services-wrapper .service-card h3{font-size: 2em;
    font-weight: 600;
    margin-bottom: 15px;
    color: var(--text-dark);
    transition: text-shadow 0.3s ease, color 0.3s ease; /* Добавляем переход для цвета */
    text-align: center;
    min-height: 4em; /* Увеличиваем минимальную высоту для выравнивания описаний */
    display: flex;
    align-items: center;
    justify-content: center;}.custom-services-wrapper .service-card p{font-size: 1.1em;
    color: var(--text-muted);
    margin-bottom: 25px; /* Возвращаем исходный отступ */
    flex-grow: 1;
    transition: text-shadow 0.3s ease, color 0.3s ease; /* Добавляем переход для цвета */
    text-align: center;}.custom-services-wrapper .service-card:hover h3{color: #FFFFFF; /* Белый цвет текста */
    text-shadow: 0 0 15px rgba(0, 0, 0, 0.9), 0 0 25px rgba(0, 0, 0, 0.7); /* Очень выраженная тень */}.custom-services-wrapper .service-card:hover p{color: #FFFFFF; /* Белый цвет текста */
    text-shadow: 0 0 10px rgba(0, 0, 0, 0.6), 0 0 15px rgba(0, 0, 0, 0.4); /* Очень выраженная тень */}.custom-services-wrapper /* Стили для списка услуг внутри карточки */
.service-features{list-style: none;
    padding: 15px; /* Добавляем внутренний отступ */
    margin: 0 0 25px 0;
    max-height: 150px; /* Ограничиваем высоту списка */
    overflow-y: auto; /* Добавляем скролл, если контента много */
    padding-right: 10px; /* Отступ для скроллбара */
    border: 1px solid var(--border-color); /* Добавляем границу */
    border-radius: 8px; /* Скругляем углы */
    text-align: left;}.custom-services-wrapper .service-card:hover .service-features li{color: #FFFFFF; /* Белый цвет текста */
    text-shadow: 0 0 10px rgba(0, 0, 0, 0.6), 0 0 15px rgba(0, 0, 0, 0.4); /* Очень выраженная тень */}.custom-services-wrapper .service-card:hover .service-features li::before{color: var(--accent-color); /* Зеленый цвет при наведении */}.custom-services-wrapper .service-features li::before{content: '\2713'; /* Unicode галочка */
    color: var(--primary-color); /* Синий цвет */
    display: inline-block;
    margin-right: 8px;
    font-weight: bold;
    transition: color 0.3s ease; /* Плавный переход цвета */}.custom-services-wrapper .btn{display: inline-block;
    background: linear-gradient(to right, var(--primary-color), #6DD5ED);
    color: #fff;
    padding: 14px 30px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    font-size: 1.1em;
    transition: all 0.3s ease;
    margin-top: auto;
    border: none;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    animation: pulse 2s infinite;}.custom-services-wrapper .btn:hover{background: linear-gradient(to right, #6DD5ED, var(--primary-color));
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);}.custom-services-wrapper /* Carousel Wrapper for Mobile */
.services-carousel-wrapper{position: relative;
    padding: 0; /* Убираем padding для большего пространства карточек на мобильных */}.custom-services-wrapper /* Carousel Arrows */
.services-carousel-container{position: relative;
    width: 100%;
    max-width: 1200px; /* Соответствует .container */
    margin: 0 auto;}.custom-services-wrapper .services-grid-viewport{overflow: hidden;
    width: 100%;}.custom-services-wrapper .carousel-arrow{position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e0e0e0;
    border-radius: 50%;
    width: 45px;
    height: 45px;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 24px;
    color: var(--text-dark);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    transition: all 0.3s ease;}.custom-services-wrapper .carousel-arrow:hover{background-color: var(--primary-color);
    color: white;
    box-shadow: 0 6px 16px rgba(0,0,0,0.15);
    transform: translateY(-50%) scale(1.05);}.custom-services-wrapper .carousel-arrow-left{left: -60px;}.custom-services-wrapper .carousel-arrow-right{right: -60px;}/* Адаптивность */
@media (max-width: 1200px){.custom-services-wrapper .services-grid{grid-template-columns: repeat(2, 1fr); /* 2 карточки в ряд на средних экранах */}}@media (max-width: 768px){.custom-services-wrapper .services-grid{display: flex;
        width: 100%; /* фиксируем на ширину экрана */
        gap: 15;
        transform: translateX(0) !important;}.custom-services-wrapper .carousel-arrow{display: none;}.custom-services-wrapper .section-title{font-size: 2.2em;
        margin-top: 30px;
  margin-bottom: 30px;}.custom-services-wrapper .services-grid-viewport{overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scroll-snap-type: x mandatory;
        padding-bottom: 20px;}.custom-services-wrapper .service-card{flex: 0 0 100%;
        max-width: 100%;
        margin: 0;
        scroll-snap-align: start;
        padding: 30px 30px 20px 30px;
        box-shadow: 0 6px 15px var(--shadow-light);
        transform: none;}.custom-services-wrapper .service-card:last-child{margin-right: 0;}.custom-services-wrapper .service-card:hover{transform: none;
        box-shadow: 0 6px 15px var(--shadow-light);}.custom-services-wrapper .service-card::before{display: none;}.custom-services-wrapper .service-card:hover, .custom-services-wrapper .service-card:hover .service-icon, .custom-services-wrapper .service-card:hover h3, .custom-services-wrapper .service-card:hover p, .custom-services-wrapper .service-card:hover .service-features li{transform: none;
        box-shadow: none;
        color: var(--text-dark);
        text-shadow: none;}.custom-services-wrapper .service-card h3{font-size: 1.6em;}.custom-services-wrapper .service-card p{font-size: 1em;}.custom-services-wrapper .btn{padding: 12px 25px;
        font-size: 1em;}.custom-services-wrapper .btn-consultation{padding: 10px 20px;
        font-size: 0.9em;}.custom-services-wrapper .service-icon{margin: 20px auto 25px auto;
        width: 100px;      /* увеличили размер круга */
        height: 100px;
        font-size: 55px;   /* увеличили эмодзи */}}@media (max-width: 480px){.custom-services-wrapper .section-title{font-size: 1.8em;}.custom-services-wrapper .service-card{padding: 30px 30px 20px 30px;}.custom-services-wrapper .service-card h3{font-size: 1.5em;}.custom-services-wrapper .service-icon{margin: 20px auto 25px auto;
        width: 70px;
        height: 70px;
        font-size: 40px;}}.custom-services-wrapper /* Swipe Hint Animation */
.swipe-hint{display: none; /* Скрыто по умолчанию */
    position: absolute;
    top: 50%;
    right: 5px;
    transform: translateY(-50%);
    font-size: 3em;
    color: var(--primary-color);
    text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    animation: swipe-animation 1.5s ease-in-out infinite;
    z-index: 10;}@media (max-width: 768px){.custom-services-wrapper .swipe-hint{display: block; /* Показываем на мобильных */}}@keyframes swipe-animation{0%{transform: translateY(-50%) translateX(0); opacity: 0.5;} 50%{transform: translateY(-50%) translateX(-25px); opacity: 1; color: var(--accent-color);} 100%{transform: translateY(-50%) translateX(0); opacity: 0.5;}}.custom-services-wrapper /* Стили для блока консультации */
.consultation-block{padding: 50px 0;
    text-align: center;
    background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
    background-size: 400% 400%;
    animation: gradient 15s ease infinite;
    color: white;}@keyframes gradient{0%{background-position: 0% 50%;}50%{background-position: 100% 50%;}100%{background-position: 0% 50%;}}.custom-services-wrapper .consultation-block h2{font-size: 2em;
    margin-bottom: 20px;
    color: white;}.custom-services-wrapper .consultation-block p{font-size: 1.2em;
    margin-bottom: 30px;
    color: white;}.custom-services-wrapper .cta-button{background-color: var(--primary-color);
    color: white;
    padding: 15px 30px;
    border: none;
    border-radius: 5px;
    font-size: 1.2em;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.3s ease;
    animation: pulse 2s infinite;}@keyframes pulse{0%{transform: scale(1);
        box-shadow: 0 0 0 0 rgba(0, 123, 255, 0.7);}70%{transform: scale(1.05);
        box-shadow: 0 0 0 10px rgba(0, 123, 255, 0);}100%{transform: scale(1);
        box-shadow: 0 0 0 0 rgba(0, 123, 255, 0);}}.custom-services-wrapper .cta-button:hover{background-color: #0056b3;
    transform: scale(1.05);}.custom-services-wrapper /* Стили для модального окна */
.modal{display: none; 
    position: fixed; 
    z-index: 1; 
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto; 
    background-color: rgb(0,0,0); 
    background-color: rgba(0,0,0,0.4);}.custom-services-wrapper .modal-content{background-color: #fefefe;
    margin: 15% auto; 
    padding: 20px;
    border: 1px solid #888;
    width: 80%; 
    max-width: 600px;
    border-radius: 10px;
    position: relative;
    text-align: center;}.custom-services-wrapper .btn-consultation{display: inline-block;
    background: linear-gradient(to right, var(--primary-color), #6DD5ED);
    color: #fff;
    padding: 14px 30px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    font-size: 1.1em;
    transition: all 0.3s ease;
    margin-top: 20px;
    border: none;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    animation: pulse 2s infinite;}.custom-services-wrapper .btn-consultation:hover{background: linear-gradient(to right, #6DD5ED, var(--primary-color));
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);}.custom-services-wrapper .close-button{color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;}.custom-services-wrapper .close-button:hover, .custom-services-wrapper .close-button:focus{color: black;
    text-decoration: none;
    cursor: pointer;}</style>
<style>
@media (max-width: 768px) {
  .custom-services-wrapper .services-grid-viewport {
    padding-bottom: 0 !important;
  }

  .custom-services-wrapper .service-card:last-child {
    margin-bottom: 0 !important;
  }

  .custom-services-wrapper .swipe-hint {
    display: none !important;
  }
}
</style>
<style>
@media (max-width: 768px) {
  .custom-services-wrapper .services {
    padding-bottom: 0 !important;
    margin-bottom: 0 !important;
  }

  .custom-services-wrapper .services-grid {
    margin-bottom: 0 !important;
  }

  .custom-services-wrapper .service-card {
    padding: 20px 15px 15px 15px !important;
  }

  .custom-services-wrapper .service-card:last-child {
    margin-bottom: 0 !important;
  }

  .custom-services-wrapper .services-grid-viewport {
    padding-bottom: 0 !important;
  }

  .custom-services-wrapper .swipe-hint {
    display: none !important;
  }
}
</style>
<style>
@media (max-width: 768px) {
  .custom-services-wrapper .service-card {
    padding: 15px 10px 10px 10px !important;
  }

  .custom-services-wrapper .service-features {
    margin-bottom: 10px !important;
  }

  .custom-services-wrapper .btn {
    margin-top: 10px !important;
  }

  .custom-services-wrapper .services {
    padding-bottom: 0 !important;
    margin-bottom: 0 !important;
  }
}
</style>

<style>
.custom-services-wrapper .service-card {
  padding-bottom: 10px !important;
}
.custom-services-wrapper .service-features {
  margin-bottom: 5px !important;
}
.custom-services-wrapper .btn {
  margin-top: 5px !important;
}
.custom-services-wrapper .services {
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}
.custom-services-wrapper .services-grid-viewport {
  padding-bottom: 0 !important;
}
</style>

</head>
<body>
<div class="custom-services-wrapper">

    <section class="services">
        <div class="container">
            <h2 class="section-title">Наши Услуги</h2>
            <div class="services-carousel-container">
                <div class="services-grid-viewport">
                    <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon">
                        📊
                    </div>
                    <h3>Внедрение Битрикс24</h3>
                    <p>Настроим Битрикс24 под ваш бизнес — без шаблонов, с фокусом на результат и удобство команды:</p>
                    <ul class="service-features">
                        <li>Типовые процессы</li>
                        <li>Роботы</li>
                        <li>Триггеры</li>
                        <li>Бизнес-процессы любой сложности</li>
                        <li>Интеграции со сторонними сервисами (1С, CRM, телефония и др.)</li>
                        <li>Настройка прав доступа</li>
                        <li>Обучение сотрудников</li>
                        <li>Техническая поддержка</li>
                        <li>Автоматизация задач</li>
                        <li>Управление проектами</li>
                        <li>CRM-маркетинг</li>
                        <li>Отчетность</li>
                    </ul>
                    <a href="javascript:void(0)" class="btn">Узнать больше</a>
                </div>

                <div class="service-card">
                    <div class="service-icon">
                        📱
                    </div>
                    <h3>Сайты и приложения</h3>
                    <p>Веб-приложения:</p>
                    <ul class="service-features">
                        <li>Web-разработка на базе CMS 1C-Битрикс</li>
                        <li>CMS Wordpress</li>
                        <li>Реактивные сайты</li>
                        <li>Корпоративные сайты</li>
                        <li>Интернет-магазины</li>
                        <li>Индивидуальные решения</li>
                    </ul>
                    <a href="javascript:void(0)" class="btn">Узнать больше</a>
                </div>

                <div class="service-card">
                    <div class="service-icon">
                        💻
                    </div>
                    <h3>Разработка ПО</h3>
                    <p>Полный набор услуг в соответствии с индивидуальным видением заказчиков:</p>
                    <ul class="service-features">
                        <li>Заказное программное обеспечение</li>
                        <li>Надежные и эффективные решения с нуля</li>
                        <li>Разработка Enterprise решения</li>
                        <li>Помощь в разработке миграционной политики IT-систем</li>
                        <li>Поддержка и адаптация имеющихся систем и приложений</li>
                    </ul>
                    <a href="javascript:void(0)" class="btn">Узнать больше</a>
                </div>

                <div class="service-card">
                    <div class="service-icon">
                        🤝
                    </div>
                    <h3>Внедрение amoCRM</h3>
                    <p>Повысим ваши продажи с помощью amoCRM — идеальной системы для отделов продаж:</p>
                    <ul class="service-features">
                        <li>Настройка воронки продаж</li>
                        <li>Интеграция с мессенджерами и соцсетями</li>
                        <li>Автоматизация задач для менеджеров</li>
                        <li>Digital-воронка (автоматический подогрев лидов)</li>
                        <li>Сквозная аналитика</li>
                        <li>Виджеты и интеграции</li>
                        <li>Обучение вашей команды</li>
                        <li>Техническая поддержка</li>
                    </ul>
                    <a href="javascript:void(0)" class="btn">Узнать больше</a>
                </div>
            </div>
            </div>
            <button class="carousel-arrow carousel-arrow-left">&#x2039;</button>
            <button class="carousel-arrow carousel-arrow-right">&#x203A;</button>
            <span class="swipe-hint">&raquo;</span>
        </div>
    </section>

    <div id="service-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2 id="modal-title"></h2>
            <p id="modal-description"></p>
            <a href="javascript:void(0)" class="btn btn-consultation">Бесплатная консультация</a>
        </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const servicesGrid = document.querySelector('.services-grid');
    const servicesGridViewport = document.querySelector('.services-grid-viewport');
    const leftArrow = document.querySelector('.carousel-arrow-left');
    const rightArrow = document.querySelector('.carousel-arrow-right');
    const serviceCards = document.querySelectorAll('.service-card');
    const swipeHint = document.querySelector('.swipe-hint');

    let currentIndex = 0;
    const totalCards = serviceCards.length;
    let cardsToShow = getCardsToShow();

    function getCardsToShow() {
        return window.innerWidth <= 768 ? 1 : 3;
    }

    function updateCarousel() {
        cardsToShow = getCardsToShow();
        let cardWidth, gap;

        if (window.innerWidth <= 768) {
            cardWidth = window.innerWidth;
            gap = 0;
        } else {
            cardWidth = serviceCards[0].offsetWidth;
            gap = 15;
        }
        const newTransform = -currentIndex * (cardWidth + gap);
        servicesGrid.style.transform = `translateX(${newTransform}px)`;

        if (window.innerWidth > 768) {
            leftArrow.style.display = currentIndex > 0 ? 'block' : 'none';
            rightArrow.style.display = currentIndex < totalCards - cardsToShow ? 'block' : 'none';
        } else {
            leftArrow.style.display = 'none';
            rightArrow.style.display = 'none';
        }
    }

    rightArrow.addEventListener('click', () => {
        if (currentIndex < totalCards - cardsToShow) {
            currentIndex++;
            updateCarousel();
        }
    });

    leftArrow.addEventListener('click', () => {
        if (currentIndex > 0) {
            currentIndex--;
            updateCarousel();
        }
    });

    window.addEventListener('resize', () => {
        currentIndex = 0;
        updateCarousel();
    });

    updateCarousel();

    if (servicesGridViewport && swipeHint && window.innerWidth <= 768) {
        const handleScroll = () => {
            swipeHint.style.display = 'none';
            servicesGridViewport.removeEventListener('scroll', handleScroll);
        };
        servicesGridViewport.addEventListener('scroll', handleScroll);
    }

    const modal = document.getElementById('service-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalDescription = document.getElementById('modal-description');
    const closeButton = document.querySelector('.close-button');
    const consultationButton = document.querySelector('.btn-consultation');

    const serviceDetails = {
        'Внедрение Битрикс24': 'Мы предлагаем полный спектр услуг по внедрению и настройке Битрикс24...',
        'Сайты и приложения': 'Создаем современные и адаптивные сайты, а также веб-приложения...',
        'Разработка ПО': 'Мы занимаемся разработкой заказного программного обеспечения...',
        'Внедрение amoCRM': 'Мы поможем вам настроить amoCRM для максимальной эффективности...',
    };

    document.querySelectorAll('.btn').forEach(button => {
        button.addEventListener('click', (e) => {
            e.preventDefault();
            const card = e.target.closest('.service-card');
            const title = card.querySelector('h3').innerText;
            modalTitle.innerText = title;
            modalDescription.innerText = serviceDetails[title];
            modal.style.display = 'block';
        });
    });

    closeButton.addEventListener('click', () => {
        modal.style.display = 'none';
    });

    window.addEventListener('click', (e) => {
        if (e.target === modal) {
            modal.style.display = 'none';
        }
    });

    consultationButton.addEventListener('click', () => {
        (function(w, d, u) {
            var s = d.createElement('script');
            s.async = true;
            s.src = u + '?' + (Date.now() / 180000 | 0);
            var h = d.getElementsByTagName('script')[0];
            h.parentNode.insertBefore(s, h);
        })(window, document, 'https://cdn-ru.bitrix24.ru/b33375352/crm/form/loader_4.js');
        modal.style.display = 'none';
    });
});
</script>

</div>

<script>
  function resizeIframeToContent() {
    const height = document.documentElement.scrollHeight;
    parent.postMessage({ type: "resize-service", height }, "*");
  }
  window.addEventListener("load", resizeIframeToContent);
  window.addEventListener("resize", resizeIframeToContent);
</script>

</body>
</html>
